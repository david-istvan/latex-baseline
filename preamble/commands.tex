%%%%%%%%%%%%%%%%%%% Basic commands for editing %%%%%%%%%%%%%%%%%%%
\newcommand{\secref}[1]{Section~\ref{#1}}
\newcommand{\chpref}[1]{Chapter~\ref{#1}}
\newcommand{\figref}[1]{Figure~\ref{#1}}
\newcommand{\tabref}[1]{Table~\ref{#1}}
\newcommand{\equref}[1]{Equation~\ref{#1}}
\newcommand{\lstref}[1]{Listing~\ref{#1}}
\newcommand{\appref}[1]{Appendix~\ref{#1}}

%%%%%%%%%%%%%%%%%%% Frequently used annotations %%%%%%%%%%%%%%%%%%%

\newcommand{\todo}[1]{
    \ifthenelse{\boolean{showannotations}}%
    {\ifthenelse{\equal{#1}{}}{\textcolor{red}{TODO}}{\textcolor{red}{TODO:~{#1}}}}%
    {}%
}

\newcommand{\assignedto}[1]{%
    \ifthenelse{\boolean{showannotations}}%
    {\textbf{\noindent\ding{46}\textcolor{white}{~\colorbox{\assignementcolor}{Assigned to:}}~\textcolor{\assignementcolor}{#1}\\}%
    }
    {}
}

%%%%%%%%%%%%%%%%%%% Review commands %%%%%%%%%%%%%%%%%%%

\newcommand{\rephrase}[1]{\textcolor{purple}{\uwave{#1}}} % please rephrase

\renewcommand{\nb}[4]{
    \ifthenelse{\boolean{showannotations}}%
    {\fcolorbox{gray}{#2}{\bfseries\sffamily\scriptsize{#1}}
	{\sf\small$\blacktriangleright$\textcolor{#4}{\textit{#3}}$\blacktriangleleft$}}%
    {}%
}

\newcommand\personmarker[2]{\noindent\nb{#1}{yellow}{#2}{VioletRed}}
\newcommand\id[1]{\noindent\personmarker{ID}{#1}}

\newcommand\re[2]{\noindent\nb{#1}{YellowOrange}{#2}{RubineRed}}

%%%%%%%%%%%%%%%%%%% Revision commands %%%%%%%%%%%%%%%%%%%
\newcommand{\rem}[1]{%
    \ifthenelse{\boolean{showannotations}}%
    {\textcolor{\oldtextcolor}{\st{#1}}}%
    {}%
}

\newcommand\add[1]{%
    \ifthenelse{\boolean{showannotations}}%
    {\textcolor{\newtextcolor}{{#1}}}%
    {#1}%
}

\newcommand\rep[2]{%
    \ifthenelse{\boolean{showannotations}}%
    {\rem{#1}~\add{#2}}%
    {#2}%
}



%%%%%%%%%%%%%%%%%%% Preprint info commands %%%%%%%%%%%%%%%%%%%
\newcommand{\placetextbox}[3]{% \placetextbox{<horizontal pos>}{<vertical pos>}{<stuff>}
  \setbox0=\hbox{#3}% Put <stuff> in a box
  \AddToShipoutPictureFG*{% Add <stuff> to current page foreground
    \put(\LenToUnit{#1\paperwidth},\LenToUnit{#2\paperheight}){\vtop{{\null}\makebox[0pt][c]{#3}}}%
  }%
}%

\newcommand{\preprintlabel}[2]{
    \placetextbox{0.5}{0.99}{\colorbox{gray!10}{\textcolor{WildStrawberry}{\textbf{{#2}}}}}%

    \placetextbox{0.5}{0.97}{\colorbox{gray!10}{\textcolor{WildStrawberry}{\textbf{Author pre-print. The final publication is available at: \url{https://doi.org/#1}.}}}}%
    
    \placetextbox{0.5}{0.05}{\colorbox{gray!10}{\textcolor{WildStrawberry}{\textbf{Author pre-print. The final publication is available at: \url{https://doi.org/#1}.}}}}%
}